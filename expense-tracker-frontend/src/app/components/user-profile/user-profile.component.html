<div class="container">
  <h2>User Profile</h2>

  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <div *ngIf="loading" class="text-center">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>

  <div *ngIf="!loading && !error">
    <form (ngSubmit)="onUpdateUserProfile()">
      <div class="form-group">
        <label for="username">Username:</label>
        <input
          id="username"
          type="text"
          class="form-control"
          [(ngModel)]="userProfile.username"
          name="username"
          required
        />
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input
          id="email"
          type="email"
          class="form-control"
          [(ngModel)]="userProfile.email"
          name="email"
          required
        />
      </div>

      <div class="form-group">
        <label for="password">Password:</label>
        <input
          id="password"
          type="password"
          class="form-control"
          [(ngModel)]="userProfile.password"
          name="password"
          required
        />
      </div>

      <button type="submit" class="submit-btn" [disabled]="loading">
        {{ loading ? 'Updating...' : 'Update Profile' }}
      </button>
    </form>



    <button
      class="logout-btn mt-3"
      (click)="logout()"
      [disabled]="loading"
    >

      <ul>
        <li *ngFor="let user of users">
          {{ user.username }} (ID: {{ user.id }})
          <button (click)="deleteUser(user.id)">Delete</button>
        </li>
      </ul>
      Logout
    </button>
  </div>
</div>
